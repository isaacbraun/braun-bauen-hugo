{{ define "main" }}
{{ $hash := dict "vendor" "feather" "name" "hash" "className" "text-green-600 hidden sm:block" }}
{{ $pages := where site.RegularPages "Type" "blog" }}
<main class="bauen-prose">
  <h1 class="mb-0 flex flex-row flex-nowrap gap-0.5 text-balance">
    {{ partial "icons/icon" $hash }}
    <span>{{ .Title }}</span>
    {{ with len ($pages) }}
      {{ if eq . 1 }}
        <span>&nbsp;({{ . }} Post)</span>
      {{ else }}
        <span>&nbsp;({{ . }} Posts)</span>
      {{ end }}
    {{ end }}
  </h1>
  <aside class="flex flex-row gap-3 mt-2 pb-2 pl-1 text-gray-500 border-b-2 rounded-sm border-green-600">
    <ul class="flex flex-row gap-3 m-0 not-prose marker:list-none">
      {{ range .Site.Taxonomies.tags }}
        <li class="underline underline-offset-2"><a href="{{ .Page.RelPermalink }}">{{ .Page.Title }}</a></li>
      {{ end }}
    </ul>
  </aside>
  <article>
    <ul>

      {{ range $pages.ByDate }}
        <a title="{{ .LinkTitle }}" href="{{ .RelPermalink }}">
          <h2>{{ .Date.Format "2006-01-02" }} | {{ .LinkTitle }}</h2>
          <p>{{ .Description }}</p>
        </a>
      {{ end }}
    </ul>
  </article>
</main>
{{ end }}
